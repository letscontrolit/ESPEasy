;;; Custom builds *****************************************************
; Use either the plugins defined in                                   ;
; pre_custom_esp82xx.py or Custom.h                                   ;
; *********************************************************************
[limited_build_size]
build_flags               = -DNO_GLOBAL_MDNS



[hard_esp82xx]
platform                  = ${regular_platform.platform}
platform_packages         = ${regular_platform.platform_packages}
build_flags               = ${regular_platform.build_flags}
                            -DBUILD_NO_DEBUG
                            -DPLUGIN_BUILD_CUSTOM


[esp8266_custom_common]
lib_ignore                = ESP32_ping
                            ESP32HTTPUpdateServer
                            ESP32WebServer
                            HeatpumpIR
                            IRremoteESP8266
                            ServoESP32
                            I2C AXP192 Power management
extra_scripts             = pre:tools/pio/pre_custom_esp82xx.py
                            ${extra_scripts_esp8266.extra_scripts}


; Custom: 4M1M version --------------------------
[env:custom_ESP8266_4M1M]
extends                   = esp8266_4M1M
platform                  = ${regular_platform.platform}
platform_packages         = ${regular_platform.platform_packages}
build_flags               = ${regular_platform.build_flags} 
                            ${esp8266_4M1M.build_flags} 
                            -DPLUGIN_BUILD_CUSTOM
lib_ignore                = ${esp8266_custom_common.lib_ignore}
extra_scripts             = ${esp8266_custom_common.extra_scripts}

[env:custom_IR_ESP8266_4M1M]
extends                   = esp8266_4M1M
platform                  = ${regular_platform.platform}
platform_packages         = ${regular_platform.platform_packages}
build_flags               = ${regular_platform.build_flags} 
                            ${esp8266_4M1M.build_flags} 
                            -DPLUGIN_BUILD_CUSTOM
                            -DPLUGIN_BUILD_IR
lib_ignore                = ESP32_ping
                            ESP32WebServer
                            ServoESP32
                            ESP32HTTPUpdateServer
                            adafruit/Adafruit GFX Library@^1.11.1
                            LOLIN_EPD
                            Adafruit ILI9341 ESPEasy
                            adafruit/Adafruit BusIO
                            Adafruit NeoPixel
                            Adafruit Motor Shield V2 Library
                            Adafruit_ST77xx
                            Adafruit NeoMatrix
                            I2C AXP192 Power management
extra_scripts             = pre:tools/pio/pre_custom_esp82xx_IR.py
                            ${extra_scripts_esp8266.extra_scripts}
                            pre:tools/pio/ir_build_check.py



[env:custom_alt_wifi_ESP8266_4M1M]
extends                   = esp8266_4M1M
platform                  = ${regular_platform_alt_wifi.platform}
platform_packages         = ${regular_platform_alt_wifi.platform_packages}
build_flags               = ${regular_platform_alt_wifi.build_flags} 
                            ${esp8266_4M1M.build_flags} 
                            -DPLUGIN_BUILD_CUSTOM
lib_ignore                = ${esp8266_custom_common.lib_ignore}
extra_scripts             = ${esp8266_custom_common.extra_scripts}



[env:custom_302_ESP8266_4M1M]
extends                   = esp8266_4M1M
platform                  = ${core302_platform.platform}
platform_packages         = ${core302_platform.platform_packages}
build_flags               = ${core302_platform.build_flags}
                            ${esp8266_4M1M.build_flags} 
                            -DPLUGIN_BUILD_CUSTOM
lib_ignore                = ${esp8266_custom_common.lib_ignore}
extra_scripts             = ${esp8266_custom_common.extra_scripts}

[env:custom_beta_ESP8266_4M1M]
extends                   = esp8266_4M1M
platform                  = ${beta_platform.platform}
platform_packages         = ${beta_platform.platform_packages}
build_flags               = ${beta_platform.build_flags}
                            ${esp8266_4M1M.build_flags}
                            -DPLUGIN_BUILD_CUSTOM
lib_ignore                = ${esp8266_custom_common.lib_ignore}
extra_scripts             = ${esp8266_custom_common.extra_scripts}


[env:custom_beta_2ndheap_ESP8266_4M1M]
extends                   = esp8266_4M1M
platform                  = ${beta_platform_2ndheap.platform}
platform_packages         = ${beta_platform_2ndheap.platform_packages}
build_flags               = ${beta_platform_2ndheap.build_flags}
                            ${esp8266_4M1M.build_flags}
                            -DPLUGIN_BUILD_CUSTOM
lib_ignore                = ${esp8266_custom_common.lib_ignore}
extra_scripts             = ${esp8266_custom_common.extra_scripts}

[env:custom_beta_IR_ESP8266_4M1M]
extends                   = esp8266_4M1M
platform                  = ${beta_platform.platform}
platform_packages         = ${beta_platform.platform_packages}
build_flags               = ${beta_platform.build_flags} 
                            ${esp8266_4M1M.build_flags} 
                            -DPLUGIN_BUILD_CUSTOM
lib_ignore                = ESP32_ping
                            ESP32WebServer
                            ServoESP32
                            ESP32HTTPUpdateServer
                            adafruit/Adafruit GFX Library@^1.11.1
                            LOLIN_EPD
                            Adafruit ILI9341 ESPEasy
                            adafruit/Adafruit BusIO
                            Adafruit NeoPixel
                            Adafruit Motor Shield V2 Library
                            Adafruit_ST77xx
                            Adafruit NeoMatrix
                            I2C AXP192 Power management
extra_scripts             = ${esp8266_custom_common.extra_scripts}
                            pre:tools/pio/ir_build_check.py


; TD-er: Disabled as it will no longer fit
;[env:custom_beta_debug_ESP8266_4M1M]
;extends                   = esp8266_4M1M
;platform                  = ${beta_platform.platform}
;platform_packages         = ${beta_platform.platform_packages}
;build_flags               = ${beta_platform.build_flags}
;                            ${esp8266_4M1M.build_flags}
;                            -DPLUGIN_BUILD_CUSTOM
;                            -g
;                            -DDEBUG_ESP_OOM
;                            -DUMM_POISON_CHECK
;                            -DDEBUG_ESP_PORT=Serial
;build_unflags             = 
;lib_ignore                = ${esp8266_custom_common.lib_ignore}
;extra_scripts             = ${esp8266_custom_common.extra_scripts}


; Custom: 4M2M version -- SPIFFS --------------
[env:custom_ESP8266_4M2M]
extends                   = esp8266_4M2M
platform                  = ${regular_platform.platform}
platform_packages         = ${regular_platform.platform_packages}
build_flags               = ${regular_platform.build_flags}
                            ${esp8266_4M1M.build_flags}
                            -DPLUGIN_BUILD_CUSTOM
lib_ignore                = ${esp8266_custom_common.lib_ignore}
extra_scripts             = ${esp8266_custom_common.extra_scripts}

; Custom: 4M2M version -- LittleFS --------------
; LittleFS is determined by using "LittleFS" in the pio env name
[env:custom_ESP8266_4M2M_LittleFS]
extends                   = esp8266_4M2M
platform                  = ${regular_platform.platform}
platform_packages         = ${regular_platform.platform_packages}
build_flags               = ${regular_platform.build_flags}
                            ${esp8266_4M1M.build_flags}
                            -DPLUGIN_BUILD_CUSTOM
lib_ignore                = ${esp8266_custom_common.lib_ignore}
extra_scripts             = ${esp8266_custom_common.extra_scripts}


; Custom: 1M version --------------------------
[env:custom_ESP8266_1M]
extends                   = esp8266_1M
platform                  = ${regular_platform.platform}
platform_packages         = ${regular_platform.platform_packages}
build_flags               = ${regular_platform.build_flags} 
                            ${esp8266_1M.build_flags} 
                            -DPLUGIN_BUILD_CUSTOM
lib_ignore                = ${esp8266_custom_common.lib_ignore}
                            ESP8266SdFat
                            SD(esp8266)
                            SD
                            SDFS
                            LittleFS(esp8266)
extra_scripts             = ${esp8266_custom_common.extra_scripts}

[env:custom_alt_wifi_ESP8266_1M]
extends                   = esp8266_1M
platform                  = ${regular_platform_alt_wifi.platform}
platform_packages         = ${regular_platform_alt_wifi.platform_packages}
build_flags               = ${regular_platform_alt_wifi.build_flags} 
                            ${esp8266_1M.build_flags} 
                            -DPLUGIN_BUILD_CUSTOM
lib_ignore                = ${esp8266_custom_common.lib_ignore}
                            ESP8266SdFat
                            SD(esp8266)
                            SD
                            SDFS
                            LittleFS(esp8266)
extra_scripts             = ${esp8266_custom_common.extra_scripts}


[env:custom_beta_ESP8266_1M]
extends                   = esp8266_1M
platform                  = ${beta_platform.platform}
platform_packages         = ${beta_platform.platform_packages}
build_flags               = ${beta_platform.build_flags}
                            ${esp8266_1M.build_flags}
                            -DPLUGIN_BUILD_CUSTOM
lib_ignore                = ${esp8266_custom_common.lib_ignore}
                            ESP8266SdFat
                            SD(esp8266)
                            SD
                            SDFS
                            LittleFS(esp8266)
extra_scripts             = ${esp8266_custom_common.extra_scripts}


; Custom: 2M version --------------------------
[env:custom_ESP8266_2M256]
extends                   = espWroom2M256
platform                  = ${regular_platform.platform}
platform_packages         = ${regular_platform.platform_packages}
build_flags               = ${regular_platform.build_flags} 
                            ${espWroom2M256.build_flags} 
                            -DPLUGIN_BUILD_CUSTOM
lib_ignore                = ${esp8266_custom_common.lib_ignore}
extra_scripts             = ${esp8266_custom_common.extra_scripts}



;;; NORMAL (STABLE) ***************************************************
; normal version with stable plugins                                  ;
; *********************************************************************

; NORMAL: 1024k version --------------------------
[env:normal_ESP8266_1M]
extends                   = esp8266_1M
platform                  = ${regular_platform.platform}
platform_packages         = ${regular_platform.platform_packages}
build_flags               = ${regular_platform.build_flags}
                            ${esp8266_1M.build_flags}
lib_ignore                = ${regular_platform.lib_ignore}
                            ESP8266SdFat
                            SD(esp8266)
                            SD
                            SDFS
                            LittleFS(esp8266)


;[env:normal_alt_wifi_ESP8266_1M]
;extends                   = esp8266_1M
;platform                  = ${regular_platform_alt_wifi.platform}
;platform_packages         = ${regular_platform_alt_wifi.platform_packages}
;build_flags               = ${regular_platform_alt_wifi.build_flags}
;                            ${esp8266_1M.build_flags}
;lib_ignore                = ${regular_platform_alt_wifi.lib_ignore}
;                            SD(esp8266)
;                            SD
;                            SDFS
;                            LittleFS(esp8266)


;[env:normal_302_ESP8266_1M]
;extends                   = esp8266_1M
;platform                  = ${core302_platform.platform}
;platform_packages         = ${core302_platform.platform_packages}
;build_flags               = ${core302_platform.build_flags}
;                            ${esp8266_1M.build_flags}


[env:normal_ESP8266_1M_VCC]
extends                   = esp8266_1M
platform                  = ${regular_platform.platform}
platform_packages         = ${regular_platform.platform_packages}
build_flags               = ${regular_platform.build_flags}
                            ${esp8266_1M.build_flags}
                            -D FEATURE_ADC_VCC=1
lib_ignore                = ${regular_platform.lib_ignore}
                            ESP8266SdFat
                            SD(esp8266)
                            SD
                            SDFS
                            LittleFS(esp8266)

[env:normal_alt_wifi_ESP8266_1M_VCC]
extends                   = esp8266_1M
platform                  = ${regular_platform_alt_wifi.platform}
platform_packages         = ${regular_platform_alt_wifi.platform_packages}
build_flags               = ${regular_platform_alt_wifi.build_flags}
                            ${esp8266_1M.build_flags}
                            -D FEATURE_ADC_VCC=1
lib_ignore                = ${regular_platform_alt_wifi.lib_ignore}
                            ESP8266SdFat
                            SD(esp8266)
                            SD
                            SDFS
                            LittleFS(esp8266)



; NORMAL: 2048k WROOM02 version --------------------------
;[env:normal_WROOM02_2M]
;extends                   = espWroom2M
;platform                  = ${regular_platform.platform}
;platform_packages         = ${regular_platform.platform_packages}
;build_flags               = ${regular_platform.build_flags}
;                            ${espWroom2M.build_flags}


; NORMAL: 2048k WROOM02 version 256k SPIFFS --------------------------
[env:normal_WROOM02_2M256]
extends                   = espWroom2M256
platform                  = ${regular_platform.platform}
platform_packages         = ${regular_platform.platform_packages}
build_flags               = ${regular_platform.build_flags}
                            ${espWroom2M256.build_flags}


; NORMAL: 4096k version --------------------------
[env:normal_ESP8266_4M1M]
extends                   = esp8266_4M1M
platform                  = ${regular_platform.platform}
platform_packages         = ${regular_platform.platform_packages}
build_flags               = ${regular_platform.build_flags}
                            ${esp8266_4M1M.build_flags}

[env:normal_ESP8266_4M1M_VCC]
extends                   = esp8266_4M1M
platform                  = ${regular_platform.platform}
platform_packages         = ${regular_platform.platform_packages}
build_flags               = ${regular_platform.build_flags}
                            ${esp8266_4M1M.build_flags}
                            -D FEATURE_ADC_VCC=1
                            -D NO_LIMIT_BUILD_SIZE

[env:normal_alt_wifi_ESP8266_4M1M]
extends                   = esp8266_4M1M
platform                  = ${regular_platform_alt_wifi.platform}
platform_packages         = ${regular_platform_alt_wifi.platform_packages}
build_flags               = ${regular_platform_alt_wifi.build_flags}
                            ${esp8266_4M1M.build_flags}
lib_ignore                = ${regular_platform_alt_wifi.lib_ignore}
                            SD(esp8266)
                            SD
                            SDFS
                            LittleFS(esp8266)




[env:normal_302_ESP8266_4M1M]
extends                   = esp8266_4M1M
platform                  = ${core302_platform.platform}
platform_packages         = ${core302_platform.platform_packages}
build_flags               = ${core302_platform.build_flags}
                            ${esp8266_4M1M.build_flags}
lib_ignore                = ${core302_platform.lib_ignore}
                            SD
                            SDFS
                            LittleFS(esp8266)

[env:normal_beta_ESP8266_4M1M]
extends                   = esp8266_4M1M
platform                  = ${normal_beta.platform}
platform_packages         = ${normal_beta.platform_packages}
build_flags               = ${normal_beta.build_flags}
                            ${esp8266_4M1M.build_flags}
lib_ignore                = ${normal_beta.lib_ignore}
                            SD
                            SDFS
                            LittleFS(esp8266)

; NORMAL: 16M version --- LittleFS --------------
; LittleFS is determined by using "LittleFS" in the pio env name
[env:normal_beta_ESP8266_16M_LittleFS]
extends                   = esp8266_16M
platform                  = ${normal_beta.platform}
platform_packages         = ${normal_beta.platform_packages}
build_flags               = ${normal_beta.build_flags}
                            ${esp8266_16M.build_flags}
                            -DPIO_FRAMEWORK_ARDUINO_ESPRESSIF_SDK22y
lib_ignore                = ESP32_ping
                            ESP32WebServer
                            ServoESP32
                            ESP32HTTPUpdateServer
                            IRremoteESP8266
                            HeatpumpIR
                            SD
                            SDFS
                            I2C AXP192 Power management



;;; Minimal ***********************************************************
; Minimal build size for OTA                                          ;
; *********************************************************************

[minimal_OTA_domoticz]
build_flags               = ${esp8266_1M_OTA.build_flags}
                            -DFEATURE_DOMOTICZ=1

[minimal_OTA_domoticz_MQTT]
build_flags               = ${esp8266_1M_OTA.build_flags}
                            -DFEATURE_DOMOTICZ=1
                            -DFEATURE_NO_HTTP_CLIENT=1

[minimal_OTA_FHEM_HA]
build_flags               = ${esp8266_1M_OTA.build_flags}
                            -DFEATURE_FHEM=1
                            -DFEATURE_HOMEASSISTANT_OPENHAB=1


[env:minimal_core_274_ESP8266_1M_OTA_Domoticz]
extends                   = esp8266_1M_OTA
platform                  = ${regular_platform.platform}
platform_packages         = ${regular_platform.platform_packages}
build_flags               = ${regular_platform.build_flags} 
                            ${minimal_OTA_domoticz.build_flags}
                            -DDISABLE_SC16IS752_Serial

[env:minimal_core_274_ESP8266_1M_OTA_Domoticz_MQTT]
extends                   = esp8266_1M_OTA
platform                  = ${regular_platform.platform}
platform_packages         = ${regular_platform.platform_packages}
build_flags               = ${regular_platform.build_flags} 
                            ${minimal_OTA_domoticz_MQTT.build_flags}
                            -DDISABLE_SC16IS752_Serial


[env:minimal_core_302_ESP8266_1M_OTA_Domoticz]
extends                   = esp8266_1M_OTA
platform                  = ${core302_platform.platform}
platform_packages         = ${core302_platform.platform_packages}
build_flags               = ${core302_platform.build_flags} 
                            ${minimal_OTA_domoticz.build_flags}

[env:minimal_core_302_ESP8266_1M_OTA_Domoticz_MQTT]
extends                   = esp8266_1M_OTA
platform                  = ${core302_platform.platform}
platform_packages         = ${core302_platform.platform_packages}
build_flags               = ${core302_platform.build_flags} 
                            ${minimal_OTA_domoticz_MQTT.build_flags}


[env:minimal_core_274_ESP8266_1M_OTA_FHEM_HA]
extends                   = esp8266_1M_OTA
platform                  = ${regular_platform.platform}
platform_packages         = ${regular_platform.platform_packages}
build_flags               = ${regular_platform.build_flags} 
                            ${minimal_OTA_FHEM_HA.build_flags}


[env:minimal_core_302_ESP8266_1M_OTA_FHEM_HA]
extends                   = esp8266_1M_OTA
platform                  = ${core302_platform.platform}
platform_packages         = ${core302_platform.platform_packages}
build_flags               = ${core302_platform.build_flags} 
                            ${minimal_OTA_FHEM_HA.build_flags}



;;; IR      ***********************************************************
; IR builds                                                           ;
; *********************************************************************


; Minimal IR: 1024k version --------------------------
; Build including IR libraries, including extended AC commands
; Minimal set of other plugins
[env:minimal_IRext_ESP8266_1M]
extends                   = esp8266_1M
platform                  = ${ir.platform}
platform_packages         = ${ir.platform_packages}
lib_ignore                = ${ir.lib_ignore}  
build_flags               = ${minimal_ir_extended.build_flags} 
                            ${esp8266_1M.build_flags}
build_unflags             = ${esp8266_1M_OTA.build_unflags} -DPLUGIN_BUILD_NORMAL_IR
extra_scripts             = ${esp8266_1M.extra_scripts}
                            pre:tools/pio/ir_build_check.py


; Minimal IR: 4096k version --------------------------
; Build including IR libraries, INCLUDING extended AC commands
; Includes Extended IR AC commands (takes a lot more program space)
; 4M flash, 1M SPIFFS
[env:minimal_IRext_ESP8266_4M1M]
extends                   = esp8266_4M1M
platform                  = ${ir.platform}
platform_packages         = ${ir.platform_packages}
lib_ignore                = ${ir.lib_ignore}  
build_flags               = ${minimal_ir_extended.build_flags} 
                            ${esp8266_4M1M.build_flags}
extra_scripts             = ${esp8266_4M1M.extra_scripts}
                            pre:tools/pio/ir_build_check.py

; 4M flash, 2M SPIFFS
[env:minimal_IRext_ESP8266_4M2M]
extends                   = esp8266_4M2M
platform                  = ${ir.platform}
platform_packages         = ${ir.platform_packages}
lib_ignore                = ${ir.lib_ignore}  
build_flags               = ${minimal_ir_extended.build_flags}
                            ${esp8266_4M2M.build_flags}
extra_scripts             = ${esp8266_4M2M.extra_scripts}
                            pre:tools/pio/ir_build_check.py


; NORMAL IR: 4096k version --------------------------
; Build including IR libraries, INCLUDING extended AC commands
; Includes Extended IR AC commands (takes a lot more program space)
; 4M flash, 2M SPIFFS
[env:normal_IRext_no_rx_ESP8266_4M2M]
extends                   = esp8266_4M2M
platform                  = ${ir.platform}
platform_packages         = ${ir.platform_packages}
lib_ignore                = ${ir.lib_ignore}  
build_flags               = ${normal_ir_extended_no_rx.build_flags}
                            ${esp8266_4M2M.build_flags}
                            ${limited_build_size.build_flags}
                            -DLIMIT_BUILD_SIZE
                            -DKEEP_RTTTL
extra_scripts             = ${esp8266_4M2M.extra_scripts}
                            pre:tools/pio/ir_build_check.py



;;; COLLECTION  *********************************************************
; additional plugins (and dependend code) that is grouped as COLLECTION ;
; Includes "normal" + "collection" plugins                              ;
; ***********************************************************************

[collection_ESP8266_4M1M]
extends                   = esp8266_4M1M
platform                  = ${collection.platform}
platform_packages         = ${collection.platform_packages}
build_flags               = ${collection.build_flags}
                            ${esp8266_4M1M.build_flags}
                            ${limited_build_size.build_flags}

[collection_alt_wifi_ESP8266_4M1M]
extends                   = esp8266_4M1M
platform                  = ${collection_alt_wifi.platform}
platform_packages         = ${collection_alt_wifi.platform_packages}
build_flags               = ${collection_alt_wifi.build_flags}
                            ${esp8266_4M1M.build_flags}

[collection_beta_ESP8266_4M1M]
extends                   = esp8266_4M1M
platform                  = ${collection_beta.platform}
platform_packages         = ${collection_beta.platform_packages}
build_flags               = ${collection_beta.build_flags}
                            ${esp8266_4M1M.build_flags}

[collection_beta_ESP8266_16M_LittleFS]
extends                   = esp8266_16M
platform                  = ${collection_beta.platform}
platform_packages         = ${collection_beta.platform_packages}
build_flags               = ${collection_beta.build_flags}
                            ${esp8266_16M.build_flags} 
                            -DPIO_FRAMEWORK_ARDUINO_ESPRESSIF_SDK22y
board_build.filesystem    = littlefs
lib_ignore                = ESP32_ping
                            ESP32WebServer
                            ServoESP32
                            ESP32HTTPUpdateServer
                            IRremoteESP8266
                            HeatpumpIR


[env:collection_A_ESP8266_4M1M]
extends                   = collection_ESP8266_4M1M
build_flags               = ${collection_ESP8266_4M1M.build_flags}
                            -DCOLLECTION_USE_RTTTL

[env:collection_B_ESP8266_4M1M]
extends                   = collection_ESP8266_4M1M
build_flags               = ${collection_ESP8266_4M1M.build_flags}
                            -DPLUGIN_BUILD_COLLECTION_B

[env:collection_C_ESP8266_4M1M]
extends                   = collection_ESP8266_4M1M
build_flags               = ${collection_ESP8266_4M1M.build_flags}
                            -DPLUGIN_BUILD_COLLECTION_C
                            -DCOLLECTION_USE_RTTTL

[env:collection_D_ESP8266_4M1M]
extends                   = collection_ESP8266_4M1M
build_flags               = ${collection_ESP8266_4M1M.build_flags}
                            -DPLUGIN_BUILD_COLLECTION_D
                            -DCOLLECTION_USE_RTTTL

[env:collection_E_ESP8266_4M1M]
extends                   = collection_ESP8266_4M1M
build_flags               = ${collection_ESP8266_4M1M.build_flags}
                            -DPLUGIN_BUILD_COLLECTION_E
                            -DCOLLECTION_USE_RTTTL

[env:collection_F_ESP8266_4M1M]
extends                   = collection_ESP8266_4M1M
build_flags               = ${collection_ESP8266_4M1M.build_flags}
                            -DPLUGIN_BUILD_COLLECTION_F
                            -DCOLLECTION_USE_RTTTL


; COLL: 4096k version + FEATURE_ADC_VCC ----------
[env:collection_A_ESP8266_4M1M_VCC]
extends                   = collection_ESP8266_4M1M
build_flags               = ${collection_ESP8266_4M1M.build_flags}
                            -DFEATURE_ADC_VCC=1
                            -DCOLLECTION_USE_RTTTL

[env:collection_B_ESP8266_4M1M_VCC]
extends                   = collection_ESP8266_4M1M
build_flags               = ${collection_ESP8266_4M1M.build_flags}
                            -DFEATURE_ADC_VCC=1
                            -DPLUGIN_BUILD_COLLECTION_B

[env:collection_C_ESP8266_4M1M_VCC]
extends                   = collection_ESP8266_4M1M
build_flags               = ${collection_ESP8266_4M1M.build_flags}
                            -DFEATURE_ADC_VCC=1
                            -DPLUGIN_BUILD_COLLECTION_C
                            -DCOLLECTION_USE_RTTTL

[env:collection_D_ESP8266_4M1M_VCC]
extends                   = collection_ESP8266_4M1M
build_flags               = ${collection_ESP8266_4M1M.build_flags}
                            -DFEATURE_ADC_VCC=1
                            -DPLUGIN_BUILD_COLLECTION_D
                            -DCOLLECTION_USE_RTTTL

[env:collection_E_ESP8266_4M1M_VCC]
extends                   = collection_ESP8266_4M1M
build_flags               = ${collection_ESP8266_4M1M.build_flags}
                            -DFEATURE_ADC_VCC=1
                            -DPLUGIN_BUILD_COLLECTION_E
                            -DCOLLECTION_USE_RTTTL

[env:collection_F_ESP8266_4M1M_VCC]
extends                   = collection_ESP8266_4M1M
build_flags               = ${collection_ESP8266_4M1M.build_flags}
                            -DFEATURE_ADC_VCC=1
                            -DPLUGIN_BUILD_COLLECTION_F
                            -DCOLLECTION_USE_RTTTL

;[env:collection_A_alt_wifi_ESP8266_4M1M_VCC]
;extends                   = collection_alt_wifi_ESP8266_4M1M
;build_flags               = ${collection_alt_wifi_ESP8266_4M1M.build_flags}
;                            -DFEATURE_ADC_VCC=1

;[env:collection_B_alt_wifi_ESP8266_4M1M_VCC]
;extends                   = collection_alt_wifi_ESP8266_4M1M
;build_flags               = ${collection_alt_wifi_ESP8266_4M1M.build_flags}
;                            -DFEATURE_ADC_VCC=1
;                            -DPLUGIN_BUILD_COLLECTION_B

;[env:collection_C_alt_wifi_ESP8266_4M1M_VCC]
;extends                   = collection_alt_wifi_ESP8266_4M1M
;build_flags               = ${collection_alt_wifi_ESP8266_4M1M.build_flags}
;                            -DFEATURE_ADC_VCC=1
;                            -DPLUGIN_BUILD_COLLECTION_C

;[env:collection_D_alt_wifi_ESP8266_4M1M_VCC]
;extends                   = collection_alt_wifi_ESP8266_4M1M
;build_flags               = ${collection_alt_wifi_ESP8266_4M1M.build_flags}
;                            -DFEATURE_ADC_VCC=1
;                            -DPLUGIN_BUILD_COLLECTION_D

;[env:collection_E_alt_wifi_ESP8266_4M1M_VCC]
;extends                   = collection_alt_wifi_ESP8266_4M1M
;build_flags               = ${collection_alt_wifi_ESP8266_4M1M.build_flags}
;                            -DFEATURE_ADC_VCC=1
;                            -DPLUGIN_BUILD_COLLECTION_E

;[env:collection_F_alt_wifi_ESP8266_4M1M_VCC]
;extends                   = collection_alt_wifi_ESP8266_4M1M
;build_flags               = ${collection_alt_wifi_ESP8266_4M1M.build_flags}
;                            -DFEATURE_ADC_VCC=1
;                            -DPLUGIN_BUILD_COLLECTION_F


; COLL: 4096k version + FEATURE_ADC_VCC + FEATURE_MDNS + FEATURE_SD ----------
; Disabled for now as it does not fit in IRAM and with VCC_SD it does not fit in max. build size
;[env:collection_ESP8266_4M1M_VCC_MDNS_SD]
;extends                   = esp8266_4M1M
;platform                  = ${collection.platform}
;platform_packages         = ${collection.platform_packages}
;build_flags               = ${collection.build_flags}
;                            ${esp8266_4M1M.build_flags}
;                            -DFEATURE_ADC_VCC=1
;                            -DFEATURE_MDNS=1
;                            -DFEATURE_SD=1
;                            -DLIMIT_BUILD_SIZE
;lib_ignore                = ESP32_ping
;                            ESP32WebServer
;                            ServoESP32
;                            ESP32HTTPUpdateServer
;                            IRremoteESP8266
;                            HeatpumpIRLittleFS(esp8266)


;[env:collection_A_beta_ESP8266_4M1M]
;extends                   = collection_beta_ESP8266_4M1M
;build_flags               = ${collection_beta_ESP8266_4M1M.build_flags}
;                            -DLIMIT_BUILD_SIZE
;                            -DCOLLECTION_USE_RTTTL

;[env:collection_B_beta_ESP8266_4M1M]
;extends                   = collection_beta_ESP8266_4M1M
;build_flags               = ${collection_beta_ESP8266_4M1M.build_flags}
;                            -DLIMIT_BUILD_SIZE
;                            -DPLUGIN_BUILD_COLLECTION_B

;[env:collection_C_beta_ESP8266_4M1M]
;extends                   = collection_beta_ESP8266_4M1M
;build_flags               = ${collection_beta_ESP8266_4M1M.build_flags}
;                            -DLIMIT_BUILD_SIZE
;                            -DPLUGIN_BUILD_COLLECTION_C
;                            -DCOLLECTION_USE_RTTTL

;[env:collection_D_beta_ESP8266_4M1M]
;extends                   = collection_beta_ESP8266_4M1M
;build_flags               = ${collection_beta_ESP8266_4M1M.build_flags}
;                            -DLIMIT_BUILD_SIZE
;                            -DPLUGIN_BUILD_COLLECTION_D
;                            -DCOLLECTION_USE_RTTTL

;[env:collection_E_beta_ESP8266_4M1M]
;extends                   = collection_beta_ESP8266_4M1M
;build_flags               = ${collection_beta_ESP8266_4M1M.build_flags}
;                            -DLIMIT_BUILD_SIZE
;                            -DPLUGIN_BUILD_COLLECTION_E
;                            -DCOLLECTION_USE_RTTTL

;[env:collection_F_beta_ESP8266_4M1M]
;extends                   = collection_beta_ESP8266_4M1M
;build_flags               = ${collection_beta_ESP8266_4M1M.build_flags}
;                            -DLIMIT_BUILD_SIZE
;                            -DPLUGIN_BUILD_COLLECTION_F
;                            -DCOLLECTION_USE_RTTTL

; COLL: 16M version -- LittleFS --------------
; LittleFS is determined by using "LittleFS" in the pio env name
;[env:collection_A_beta_ESP8266_16M_LittleFS]
;extends                   = collection_beta_ESP8266_16M_LittleFS
;build_flags               = ${collection_beta_ESP8266_16M_LittleFS.build_flags}

;[env:collection_B_beta_ESP8266_16M_LittleFS]
;extends                   = collection_beta_ESP8266_16M_LittleFS
;build_flags               = ${collection_beta_ESP8266_16M_LittleFS.build_flags}
;                            -DPLUGIN_BUILD_COLLECTION_B

;[env:collection_C_beta_ESP8266_16M_LittleFS]
;extends                   = collection_beta_ESP8266_16M_LittleFS
;build_flags               = ${collection_beta_ESP8266_16M_LittleFS.build_flags}
;                            -DPLUGIN_BUILD_COLLECTION_C
;                            -DCOLLECTION_USE_RTTTL

;[env:collection_D_beta_ESP8266_16M_LittleFS]
;extends                   = collection_beta_ESP8266_16M_LittleFS
;build_flags               = ${collection_beta_ESP8266_16M_LittleFS.build_flags}
;                            -DPLUGIN_BUILD_COLLECTION_D
;                            -DCOLLECTION_USE_RTTTL

;[env:collection_E_beta_ESP8266_16M_LittleFS]
;extends                   = collection_beta_ESP8266_16M_LittleFS
;build_flags               = ${collection_beta_ESP8266_16M_LittleFS.build_flags}
;                            -DPLUGIN_BUILD_COLLECTION_E
;                            -DCOLLECTION_USE_RTTTL

;[env:collection_F_beta_ESP8266_16M_LittleFS]
;extends                   = collection_beta_ESP8266_16M_LittleFS
;build_flags               = ${collection_beta_ESP8266_16M_LittleFS.build_flags}
;                            -DPLUGIN_BUILD_COLLECTION_F
;                            -DCOLLECTION_USE_RTTTL



;;; Collection builds  ************************************************
; Collection of similar plugins for a specific use case               ;
; for example "Display", "energy meter" or "NeoPixel"                 ;
; *********************************************************************

; energy : 4096k version ----------------------------
[env:energy_ESP8266_4M1M]
extends                   = esp8266_4M1M
platform                  = ${regular_platform.platform}
platform_packages         = ${regular_platform.platform_packages}
build_flags               = ${regular_platform.build_flags}
                            ${esp8266_4M1M.build_flags}
                            -D PLUGIN_ENERGY_COLLECTION
                            -D WEBSERVER_USE_CDN_JS_CSS

; display : 4096k version ----------------------------
[env:display_ESP8266_4M1M]
extends                   = esp8266_4M1M
platform                  = ${regular_platform.platform}
platform_packages         = ${regular_platform.platform_packages}
build_flags               = ${regular_platform.build_flags}
                            ${esp8266_4M1M.build_flags}
                            -D PLUGIN_DISPLAY_COLLECTION
                            -D WEBSERVER_USE_CDN_JS_CSS

; climate : 4096k version ----------------------------
[env:climate_ESP8266_4M1M]
extends                   = esp8266_4M1M
platform                  = ${regular_platform.platform}
platform_packages         = ${regular_platform.platform_packages}
build_flags               = ${regular_platform.build_flags}
                            ${esp8266_4M1M.build_flags}
                            -D PLUGIN_CLIMATE_COLLECTION
                            -D WEBSERVER_USE_CDN_JS_CSS

; neopixel : 4096k version ----------------------------
[env:neopixel_ESP8266_4M1M]
extends                   = esp8266_4M1M
platform                  = ${regular_platform.platform}
platform_packages         = ${regular_platform.platform_packages}
build_flags               = ${regular_platform.build_flags}
                            ${esp8266_4M1M.build_flags}
                            -D PLUGIN_NEOPIXEL_COLLECTION
                            -D LIMIT_BUILD_SIZE

; neopixel : 1024k version ----------------------------
[env:neopixel_ESP8266_1M_Domoticz]
extends                   = esp8266_1M_OTA
platform                  = ${regular_platform.platform}
platform_packages         = ${regular_platform.platform_packages}
build_flags               = ${regular_platform.build_flags} 
                            ${esp8266_1M_OTA.build_flags}
                            ${minimal_OTA_domoticz.build_flags}
                            -D PLUGIN_NEOPIXEL_COLLECTION

[env:neopixel_ESP8266_1M_FHEM_HA]
extends                   = esp8266_1M_OTA
platform                  = ${regular_platform.platform}
platform_packages         = ${regular_platform.platform_packages}
build_flags               = ${regular_platform.build_flags} 
                            ${esp8266_1M_OTA.build_flags}
                            ${minimal_OTA_FHEM_HA.build_flags}
                            -D PLUGIN_NEOPIXEL_COLLECTION


;;; HARDWARE SPECIFIC VERSIONS ***********************************************************
; versions specially designed to fit, and contents only needed plugins for each hardware ;
; ****************************************************************************************

; ITEAD Products

; ITEAD / SONOFF BASIC version ------------------
;[env:hard_SONOFF_BASIC_1M]
;extends                   = esp8266_1M, hard_esp82xx
;platform                  = ${hard_esp82xx.platform}
;platform_packages         = ${hard_esp82xx.platform_packages}
;build_flags               = ${hard_esp82xx.build_flags} ${esp8266_1M.build_flags} -D PLUGIN_SET_SONOFF_BASIC


; ITEAD / SONOFF TH10/TH16 version -------------------
;[env:hard_SONOFF_TH1x_1M]
;extends                   = esp8266_1M, hard_esp82xx
;platform                  = ${hard_esp82xx.platform}
;platform_packages         = ${hard_esp82xx.platform_packages}
;build_flags               = ${hard_esp82xx.build_flags} ${esp8266_1M.build_flags} -D PLUGIN_SET_SONOFF_TH1x

; ITEAD / SONOFF POW & POW R2 version --------------------
; Sonoff Pow (ESP8266 - HLW8012)
; GPIO00 Button
; GPIO05 HLW8012 Sel output
; GPIO12 Red Led and Relay (0 = Off, 1 = On)
; GPIO13 HLW8012 CF1 voltage / current
; GPIO14 HLW8012 CF power
; GPIO15 Blue Led (0 = On, 1 = Off)

; Sonoff Pow R2 (ESP8266 4M flash - CSE7766)
; GPIO00 Button
; GPIO01 Serial RXD 4800 baud 8E1 CSE7766 energy sensor
; GPIO03 Serial TXD
; GPIO12 Red Led and Relay (0 = Off, 1 = On)
; GPIO13 Blue Led (0 = On, 1 = Off)
[env:hard_SONOFF_POW_4M1M]
extends                   = esp8266_4M1M
platform                  = ${hard_esp82xx.platform}
platform_packages         = ${hard_esp82xx.platform_packages}
build_flags               = ${hard_esp82xx.build_flags}
                            ${esp8266_4M1M.build_flags}
                            -D PLUGIN_SET_SONOFF_POW


; Build including power measurement plugins for those devices that have only 1M flash.
; For example those made by BlitzWolf SHP
[env:hard_other_POW_ESP8285_1M]
extends                   = esp8266_1M_OTA
platform                  = ${hard_esp82xx.platform}
platform_packages         = ${hard_esp82xx.platform_packages}
build_flags               = ${hard_esp82xx.build_flags} 
                            ${esp8266_1M_OTA.build_flags}
                            -D PLUGIN_SET_SONOFF_POW


; Shelly1 Open Source (ESP8266-2MB)
; https://shelly.cloud/shelly1-open-source/
; GPIO04 Relay (non inverted)
; GPIO05 Button
[env:hard_Shelly_1_2M256]
extends                   = esp8266_2M256
platform                  = ${hard_esp82xx.platform}
platform_packages         = ${hard_esp82xx.platform_packages}
build_flags               = ${hard_esp82xx.build_flags} 
                            ${esp8266_2M256.build_flags}
                            -D PLUGIN_SET_SHELLY_1

[env:hard_Shelly_PLUG_S_2M256]
extends                   = esp8266_2M256
platform                  = ${hard_esp82xx.platform}
platform_packages         = ${hard_esp82xx.platform_packages}
build_flags               = ${hard_esp82xx.build_flags} 
                            ${esp8266_2M256.build_flags}
                            -D PLUGIN_SET_SHELLY_PLUG_S


; Ventus W266 weather station
; https://www.letscontrolit.com/wiki/index.php/VentusW266
[env:hard_Ventus_W266_1M]
extends                   = esp8266_1M
platform                  = ${hard_esp82xx.platform}
platform_packages         = ${hard_esp82xx.platform_packages}
build_flags               = ${hard_esp82xx.build_flags}
                            ${esp8266_1M_OTA.build_flags}
                            -D PLUGIN_SET_VENTUS_W266

[env:hard_LCtech_relay_x2_1M]
extends                   = esp8266_1M
platform                  = ${hard_esp82xx.platform}
platform_packages         = ${hard_esp82xx.platform_packages}
build_flags               = ${hard_esp82xx.build_flags}
                            ${esp8266_1M.build_flags}
                            -D PLUGIN_SET_LC_TECH_RELAY_X2

